{% extends "base.html" %}
{% block title %}Mobile App - Plant Monitor{% endblock %}
{% block content %}
  <section class="space-y-10">
    <div class="rounded-3xl border border-white/10 bg-gradient-to-br from-emerald-900/60 via-slate-950 to-slate-950/90 p-8 shadow-2xl shadow-emerald-500/10">
      <div class="grid gap-8 lg:grid-cols-[2fr,1fr] lg:items-center">
        <div class="space-y-4">
          <p class="text-sm uppercase tracking-[0.25em] text-brand-light">Android app</p>
          <h1 class="text-4xl font-semibold text-white">Monitor and control your planters on the go.</h1>
          <p class="text-lg text-slate-300">
            View telemetry, check actuator states, and tweak automation thresholds from your phone. Designed to mirror the web UI with the same dark,
            high-contrast styling.
          </p>
          <div class="flex flex-wrap gap-3">
            {% if apk and apk.exists %}
              <a href="/app-download/latest" class="rounded-full bg-brand px-6 py-3 text-base font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:bg-brand-dark">
                Download APK
              </a>
              <div class="rounded-full border border-white/10 px-4 py-2 text-sm text-slate-200">
                {{ apk.original_name or "plant-app.apk" }} · {{ apk.size_human or "unknown size" }} · Uploaded {{ apk.uploaded_at or "recently" }}
              </div>
            {% else %}
              <span class="rounded-full border border-white/20 px-4 py-2 text-sm text-slate-300">
                No APK uploaded yet. Ask an admin to upload the latest build.
              </span>
            {% endif %}
          </div>
        </div>
        <div class="rounded-2xl border border-white/10 bg-slate-900/60 p-5 text-sm text-slate-200">
          <h3 class="text-base font-semibold text-white">How to install</h3>
          <ol class="mt-3 space-y-2 text-slate-300">
            <li>1) Download the APK to your device.</li>
            <li>2) If prompted, allow installs from this source.</li>
            <li>3) Open the app and enter your backend URL + bearer token.</li>
          </ol>
          <p class="mt-4 text-xs text-slate-400">
            Tip: keep the app updated from this page whenever a new build is posted.
          </p>
        </div>
      </div>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
      <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
        <h2 class="text-xl font-semibold text-white">Features in this build</h2>
        <ul class="mt-3 space-y-2 text-slate-300 text-sm">
          <li>• Device list with status pill + last seen</li>
          <li>• Device detail with latest telemetry and actuator states</li>
          <li>• Automation editor (thresholds, schedule, watering params)</li>
          <li>• Dark theme matching the web UI</li>
        </ul>
      </div>
      <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
        <h2 class="text-xl font-semibold text-white">Need a new build?</h2>
        <p class="mt-3 text-sm text-slate-300">
          Admins can upload a fresh APK from the Admin console. Once uploaded, it becomes instantly available here at
          <code class="rounded bg-slate-900/70 px-2 py-1 text-xs text-brand-light">/app-download</code>.
        </p>
      </div>
    </div>
  </section>
{% endblock %}
